<!doctype html>
<html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><base href="../"/><link href="css/built.css?0917b4" rel="stylesheet"/><title>Reagent: News in 0.5.1</title></head><body><div id="main-content"><div><div data-reactroot=""><div class="nav"><ul class="nav"><li class="brand"><a href="index.html">Reagent:</a></li><li><a href="index.html">Intro</a></li><li><a href="news/index.html">News</a></li><li><a href="https://github.com/reagent-project/reagent">GitHub</a></li><li><a href="http://reagent-project.github.io/docs/master/">API</a></li></ul></div><div></div><div class="reagent-demo"><h1><a href="news/news051.html">News in 0.5.1</a></h1><span>2015-09-09</span><div class="demo-text"><p>Reagent 0.5.1 contains a new convenient shortcut for nested
    elements, better error messages, new logic for maintaining cursor
    position in inputs, a new version of React, and some bug fixes and
    improvements.</p><div class="demo-text"><h2>New syntax for nested elements</h2><p>The ”Hiccup syntax” used in Reagent now supports defining
       nested elements using ”&gt;” as a separator in keywords. This is
       probably easier to show than to explain…</p><p>So, instead of doing this: </p><div><div class="demo-example clearfix"><a class="demo-example-hide">hide</a><h3 class="demo-heading">Example </h3><div class="simple-demo"><ul><li class="foo"><a class="bar">Text 1</a></li><li class="foo"><a class="bar">Text 2</a></li></ul></div></div><div class="demo-source clearfix"><h3 class="demo-heading">Source</h3><pre><span style="color:#272">(</span><span style="color:#687868;font-weight:bold">defn</span> <span style="color:#5050c0;font-weight:bold">old-and-tired</span> <span style="color:#940">[</span><span style="color:#940">]</span>
  <span style="color:#940">[</span><span style="color:blue">:ul</span>
   <span style="color:#44a">[</span><span style="color:blue">:li.foo</span> <span style="color:#272">[</span><span style="color:blue">:a.bar</span> <span style="color:green">&quot;Text 1&quot;</span><span style="color:#272">]</span><span style="color:#44a">]</span>
   <span style="color:#44a">[</span><span style="color:blue">:li.foo</span> <span style="color:#272">[</span><span style="color:blue">:a.bar</span> <span style="color:green">&quot;Text 2&quot;</span><span style="color:#272">]</span><span style="color:#44a">]</span><span style="color:#940">]</span><span style="color:#272">)</span></pre></div></div><p>you can now do this: </p><div><div class="demo-example clearfix"><a class="demo-example-hide">hide</a><h3 class="demo-heading">Example </h3><div class="simple-demo"><ul><li class="foo"><a class="bar">Text 1</a></li><li class="foo"><a class="bar">Text 2</a></li></ul></div></div><div class="demo-source clearfix"><h3 class="demo-heading">Source</h3><pre><span style="color:#272">(</span><span style="color:#687868;font-weight:bold">defn</span> <span style="color:#5050c0;font-weight:bold">new-hotness</span> <span style="color:#940">[</span><span style="color:#940">]</span>
  <span style="color:#940">[</span><span style="color:blue">:ul</span>
   <span style="color:#44a">[</span><span style="color:blue">:li.foo&gt;a.bar</span> <span style="color:green">&quot;Text 1&quot;</span><span style="color:#44a">]</span>
   <span style="color:#44a">[</span><span style="color:blue">:li.foo&gt;a.bar</span> <span style="color:green">&quot;Text 2&quot;</span><span style="color:#44a">]</span><span style="color:#940">]</span><span style="color:#272">)</span></pre></div></div><p>with identical results, thus saving several square
       brackets from an untimely death.</p><h2>Keeping position</h2><p>Reagent now tries harder to maintain cursor position in
       text inputs, even when the value of the input is transformed in
       code.</p><p>Previously, the cursor would jump to the end of the text
       whenever you made a change in the middle of the text in
       something like this:</p><div><div class="demo-example clearfix"><a class="demo-example-hide">hide</a><h3 class="demo-heading">Example </h3><div class="simple-demo"><div><p>Value is: <!-- -->FOOBAR</p><input type="text" value="FOOBAR"/></div></div></div><div class="demo-source clearfix"><h3 class="demo-heading">Source</h3><pre><pre><span style="color:#272">(</span><span style="color:#687868;font-weight:bold">ns</span> <span style="color:#5050c0;font-weight:bold">example.core</span>
  <span style="color:#940">(</span><span style="color:blue">:require</span> <span style="color:#44a">[</span>reagent.core <span style="color:blue">:as</span> r<span style="color:#44a">]</span><span style="color:#940">)</span><span style="color:#272">)</span></pre><pre><span style="color:#272">(</span><span style="color:#687868;font-weight:bold">def</span> <span style="color:#5050c0;font-weight:bold">upper-value</span> <span style="color:#940">(</span><span style="color:#687868;font-weight:bold">r/atom</span> <span style="color:green">&quot;FOOBAR&quot;</span><span style="color:#940">)</span><span style="color:#272">)</span>

<span style="color:#272">(</span><span style="color:#687868;font-weight:bold">defn</span> <span style="color:#5050c0;font-weight:bold">upper-input</span> <span style="color:#940">[</span><span style="color:#940">]</span>
  <span style="color:#940">[</span><span style="color:blue">:div</span>
   <span style="color:#44a">[</span><span style="color:blue">:p</span> <span style="color:green">&quot;Value is: &quot;</span> @upper-value<span style="color:#44a">]</span>
   <span style="color:#44a">[</span><span style="color:blue">:input</span> <span style="color:#272">{</span><span style="color:blue">:type</span> &#x27;text <span style="color:blue">:value</span> @upper-value
            <span style="color:blue">:on-change</span> #<span style="color:#940">(</span><span style="color:#687868;font-weight:bold">reset!</span> upper-value
                                <span style="color:#44a">(</span><span style="color:#687868;font-weight:bold">-&gt;</span> <span style="color:#687868;font-weight:bold">%</span> .-target .-value
                                    clojure.string/upper-case<span style="color:#44a">)</span><span style="color:#940">)</span><span style="color:#272">}</span><span style="color:#44a">]</span><span style="color:#940">]</span><span style="color:#272">)</span></pre></pre></div></div><h2>Other news</h2><ul><li>React is updated to 0.13.3.</li><li>A bit better error messages. In particular, the current
        component path is now printed when an exception is thrown.</li><li>There is a new
        function, <code>reagent.core/force-update</code> that will
        make a component render immediately. It takes an optional
        second parameter that forces re-rendering of every child
        component as well.</li><li>Calling the result
        of <code>reagent.core/create-class</code> as a function is
        now deprecated. Use Hiccup syntax instead.</li><li>Some other bug fixes and performance tweaks.</li></ul></div></div></div><a href="https://github.com/reagent-project/reagent" class="github-badge"><img style="position:absolute;top:0;left:0;border:0" alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"/></a></div></div></div><script>var pageConfig = {"page-path":"/news/news051.html"}</script><script src="js/main.js?7830a4" type="text/javascript"></script></body></html>