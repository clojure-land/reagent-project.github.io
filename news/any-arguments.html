<!doctype html>
<html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><base href="../"/><link href="css/built.css?1489954369749" rel="stylesheet"/><title>Reagent: All arguments allowed</title></head><body><div id="main-content"><div><div data-reactroot="" data-reactid="1" data-react-checksum="-607535592"><div class="nav" data-reactid="2"><ul class="nav" data-reactid="3"><li class="brand" data-reactid="4"><a href="index.html" data-reactid="5">Reagent:</a></li><li data-reactid="6"><a href="index.html" data-reactid="7">Intro</a></li><li data-reactid="8"><a href="news/index.html" data-reactid="9">News</a></li><li data-reactid="10"><a href="https://github.com/reagent-project/reagent" data-reactid="11">GitHub</a></li><li data-reactid="12"><a href="http://reagent-project.github.io/docs/master/" data-reactid="13">API</a></li></ul></div><div data-reactid="14"></div><div class="reagent-demo" data-reactid="15"><h1 data-reactid="16"><a href="news/any-arguments.html" data-reactid="17">All arguments allowed</a></h1><div class="demo-text" data-reactid="18"><h2 data-reactid="19">If it looks like a function…</h2><p data-reactid="20"><!-- react-text: 21 -->Calling a component in Reagent looks a lot like a function
      call. Now it also <!-- /react-text --><em data-reactid="22">works</em><!-- react-text: 23 --> like one.<!-- /react-text --></p><p data-reactid="24">Before 0.4.0, component functions were always called with
      three arguments: a map of attributes, a vector of ”children”,
      and the current React component.</p><p data-reactid="25">This was confusing, and an unnecessary limitation, so now
      component functions get exactly the same arguments you pass to
      them.</p><div class="demo-text" data-reactid="26"><p data-reactid="27">In other words, you can now do this:</p><div data-reactid="28"><div class="demo-example clearfix" data-reactid="29"><a class="demo-example-hide" data-reactid="30">hide</a><h3 class="demo-heading" data-reactid="31">Example </h3><div class="simple-demo" data-reactid="32"><p data-reactid="33"><!-- react-text: 34 -->Hello, <!-- /react-text --><!-- react-text: 35 -->world<!-- /react-text --><!-- react-text: 36 -->!<!-- /react-text --></p></div></div><div class="demo-source clearfix" data-reactid="37"><h3 class="demo-heading" data-reactid="38">Source</h3><pre data-reactid="39"><span style="color:#272;" data-reactid="40">(</span><span style="color:#687868;font-weight:bold;" data-reactid="41">defn</span><!-- react-text: 42 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="43">hello-component</span><!-- react-text: 44 --> <!-- /react-text --><span style="color:#940;" data-reactid="45">[</span><!-- react-text: 46 -->name<!-- /react-text --><span style="color:#940;" data-reactid="47">]</span><!-- react-text: 48 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="49">[</span><span style="color:blue;" data-reactid="50">:p</span><!-- react-text: 51 --> <!-- /react-text --><span style="color:green;" data-reactid="52">&quot;Hello, &quot;</span><!-- react-text: 53 --> name <!-- /react-text --><span style="color:green;" data-reactid="54">&quot;!&quot;</span><span style="color:#940;" data-reactid="55">]</span><span style="color:#272;" data-reactid="56">)</span><!-- react-text: 57 -->

<!-- /react-text --><span style="color:#272;" data-reactid="58">(</span><span style="color:#687868;font-weight:bold;" data-reactid="59">defn</span><!-- react-text: 60 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="61">say-hello</span><!-- react-text: 62 --> <!-- /react-text --><span style="color:#940;" data-reactid="63">[</span><span style="color:#940;" data-reactid="64">]</span><!-- react-text: 65 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="66">[</span><!-- react-text: 67 -->hello-component <!-- /react-text --><span style="color:green;" data-reactid="68">&quot;world&quot;</span><span style="color:#940;" data-reactid="69">]</span><span style="color:#272;" data-reactid="70">)</span></pre></div></div><p data-reactid="71"><!-- react-text: 72 -->In the above example, it wouldn’t make any difference at
          all if <!-- /react-text --><code data-reactid="73">hello-component</code><!-- react-text: 74 --> had been called as a
          function, i.e with parentheses instead of brackets (except
          for performance, since components are cached between renders
          if the arguments to them don’t change).<!-- /react-text --></p><p data-reactid="75"><!-- react-text: 76 -->But there is one drawback: component function no longer
          receives the ”current component” as a parameter. Instead
          you’ll have to use <!-- /react-text --><code data-reactid="77">reagent.core/current-component</code><!-- react-text: 78 --> in order to get that. Beware that <!-- /react-text --><code data-reactid="79">current-component</code><!-- react-text: 80 --> is only valid in component
          functions, and must be called outside of e.g event handlers
          and <!-- /react-text --><code data-reactid="81">for</code><!-- react-text: 82 --> expressions, so it’s safest to always
          put the call at the top, as in <!-- /react-text --><code data-reactid="83">my-div</code><!-- react-text: 84 --> here:<!-- /react-text --></p><div data-reactid="85"><div class="demo-example clearfix" data-reactid="86"><a class="demo-example-hide" data-reactid="87">hide</a><h3 class="demo-heading" data-reactid="88">Example </h3><div class="simple-demo" data-reactid="89"><div data-reactid="90"><div class="custom" data-reactid="91">Some text.</div><div style="font-weight:bold;" class="custom" data-reactid="92"><p data-reactid="93">Some other text in bold.</p></div></div></div></div><div class="demo-source clearfix" data-reactid="94"><h3 class="demo-heading" data-reactid="95">Source</h3><pre data-reactid="96"><pre data-reactid="97"><span style="color:#272;" data-reactid="98">(</span><span style="color:#687868;font-weight:bold;" data-reactid="99">ns</span><!-- react-text: 100 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="101">example</span><!-- react-text: 102 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="103">(</span><span style="color:blue;" data-reactid="104">:require</span><!-- react-text: 105 --> <!-- /react-text --><span style="color:#44a;" data-reactid="106">[</span><!-- react-text: 107 -->reagent.core <!-- /react-text --><span style="color:blue;" data-reactid="108">:as</span><!-- react-text: 109 --> r<!-- /react-text --><span style="color:#44a;" data-reactid="110">]</span><span style="color:#940;" data-reactid="111">)</span><span style="color:#272;" data-reactid="112">)</span></pre><pre data-reactid="113"><span style="color:#272;" data-reactid="114">(</span><span style="color:#687868;font-weight:bold;" data-reactid="115">defn</span><!-- react-text: 116 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="117">my-div</span><!-- react-text: 118 --> <!-- /react-text --><span style="color:#940;" data-reactid="119">[</span><span style="color:#940;" data-reactid="120">]</span><!-- react-text: 121 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="122">(</span><span style="color:#687868;font-weight:bold;" data-reactid="123">let</span><!-- react-text: 124 --> <!-- /react-text --><span style="color:#44a;" data-reactid="125">[</span><!-- react-text: 126 -->this <!-- /react-text --><span style="color:#272;" data-reactid="127">(</span><span style="color:#687868;font-weight:bold;" data-reactid="128">r/current-component</span><span style="color:#272;" data-reactid="129">)</span><span style="color:#44a;" data-reactid="130">]</span><!-- react-text: 131 -->
    <!-- /react-text --><span style="color:#44a;" data-reactid="132">(</span><span style="color:#687868;font-weight:bold;" data-reactid="133">into</span><!-- react-text: 134 --> <!-- /react-text --><span style="color:#272;" data-reactid="135">[</span><span style="color:blue;" data-reactid="136">:div.custom</span><!-- react-text: 137 --> <!-- /react-text --><span style="color:#940;" data-reactid="138">(</span><span style="color:#687868;font-weight:bold;" data-reactid="139">r/props</span><!-- react-text: 140 --> this<!-- /react-text --><span style="color:#940;" data-reactid="141">)</span><span style="color:#272;" data-reactid="142">]</span><!-- react-text: 143 -->
          <!-- /react-text --><span style="color:#272;" data-reactid="144">(</span><span style="color:#687868;font-weight:bold;" data-reactid="145">r/children</span><!-- react-text: 146 --> this<!-- /react-text --><span style="color:#272;" data-reactid="147">)</span><span style="color:#44a;" data-reactid="148">)</span><span style="color:#940;" data-reactid="149">)</span><span style="color:#272;" data-reactid="150">)</span><!-- react-text: 151 -->

<!-- /react-text --><span style="color:#272;" data-reactid="152">(</span><span style="color:#687868;font-weight:bold;" data-reactid="153">defn</span><!-- react-text: 154 --> <!-- /react-text --><span style="color:#5050c0;font-weight:bold;" data-reactid="155">call-my-div</span><!-- react-text: 156 --> <!-- /react-text --><span style="color:#940;" data-reactid="157">[</span><span style="color:#940;" data-reactid="158">]</span><!-- react-text: 159 -->
  <!-- /react-text --><span style="color:#940;" data-reactid="160">[</span><span style="color:blue;" data-reactid="161">:div</span><!-- react-text: 162 -->
   <!-- /react-text --><span style="color:#44a;" data-reactid="163">[</span><!-- react-text: 164 -->my-div <!-- /react-text --><span style="color:green;" data-reactid="165">&quot;Some text.&quot;</span><span style="color:#44a;" data-reactid="166">]</span><!-- react-text: 167 -->
   <!-- /react-text --><span style="color:#44a;" data-reactid="168">[</span><!-- react-text: 169 -->my-div <!-- /react-text --><span style="color:#272;" data-reactid="170">{</span><span style="color:blue;" data-reactid="171">:style</span><!-- react-text: 172 --> <!-- /react-text --><span style="color:#940;" data-reactid="173">{</span><span style="color:blue;" data-reactid="174">:font-weight</span><!-- react-text: 175 --> &#x27;bold<!-- /react-text --><span style="color:#940;" data-reactid="176">}</span><span style="color:#272;" data-reactid="177">}</span><!-- react-text: 178 -->
    <!-- /react-text --><span style="color:#272;" data-reactid="179">[</span><span style="color:blue;" data-reactid="180">:p</span><!-- react-text: 181 --> <!-- /react-text --><span style="color:green;" data-reactid="182">&quot;Some other text in bold.&quot;</span><span style="color:#272;" data-reactid="183">]</span><span style="color:#44a;" data-reactid="184">]</span><span style="color:#940;" data-reactid="185">]</span><span style="color:#272;" data-reactid="186">)</span></pre></pre></div></div><p data-reactid="187"><em data-reactid="188">Note: </em><code data-reactid="189">r/props</code><!-- react-text: 190 --> and <!-- /react-text --><code data-reactid="191">r/children</code><!-- react-text: 192 --> correspond to React’s <!-- /react-text --><code data-reactid="193">this.props</code><!-- react-text: 194 --> and <!-- /react-text --><code data-reactid="195">this.props.children</code><!-- react-text: 196 -->,
         respectively. They may be convenient to use when wrapping
         native React components, since they follow the same
         conventions when interpreting the arguments given.<!-- /react-text --></p><h2 data-reactid="197">Other news in 0.4.0</h2><ul data-reactid="198"><li data-reactid="199">React has been updated to version 0.9.0.</li><li data-reactid="200"><!-- react-text: 201 -->You can now use any object that satisfies <!-- /react-text --><code data-reactid="202">ifn?</code><!-- react-text: 203 --> as a component function, and not just
           plain functions. That includes functions defined with <!-- /react-text --><code data-reactid="204">deftype</code><!-- react-text: 205 -->, <!-- /react-text --><code data-reactid="206">defrecord</code><!-- react-text: 207 -->, etc, as well
           as collections like maps.<!-- /react-text --></li><li data-reactid="208"><code data-reactid="209">reagent.core/set-state</code><!-- react-text: 210 --> and <!-- /react-text --><code data-reactid="211">reagent.core/replace-state</code><!-- react-text: 212 --> are now implemented
           using an <!-- /react-text --><code data-reactid="213">reagent.core/atom</code><!-- react-text: 214 -->, and are
           consequently async.<!-- /react-text --></li><li data-reactid="215"><!-- react-text: 216 -->Keys associated with items in a seq (e.g ”dynamic
           children” in React parlance) can now be specified with
           meta-data, as well as with a <!-- /react-text --><code data-reactid="217">:key</code><!-- react-text: 218 --> item in the
           first parameter as before. In other words, these two forms
           are now equivalent: <!-- /react-text --><code data-reactid="219">^{:key foo} [:li bar]</code><!-- react-text: 220 -->
           and <!-- /react-text --><code data-reactid="221">[:li {:key foo} bar]</code><!-- react-text: 222 -->.<!-- /react-text --></li><li data-reactid="223"><!-- react-text: 224 -->Performance has been improved even further. For
           example, there is now practically no overhead for
           tracking derefs in components that don’t use <!-- /react-text --><code data-reactid="225">atom</code><!-- react-text: 226 -->s. Allocations and memory use have also
           been reduced.<!-- /react-text --></li><li data-reactid="227">Intro and examples have been tweaked a little to take
          advantage of the new calling conventions.</li></ul><h2 data-reactid="228">New svg example</h2><p data-reactid="229"><!-- react-text: 230 -->There is also a new, elegant and simple <!-- /react-text --><a href="https://github.com/reagent-project/reagent/tree/master/examples/geometry" data-reactid="231">example</a><!-- react-text: 232 --> of using svg with Reagent, written
          by <!-- /react-text --><a href="https://github.com/jonase" data-reactid="233">Jonas Enlund</a><!-- react-text: 234 -->. It also shows how you can
          use Reagent’s new calling convensions, and looks like
          this:<!-- /react-text --></p><div data-reactid="235"><div class="demo-example clearfix" data-reactid="236"><a class="demo-example-hide" data-reactid="237">hide</a><h3 class="demo-heading" data-reactid="238">Example </h3><div class="simple-demo" data-reactid="239"><svg width="100%" height="500" style="border:1px solid black;" data-reactid="240"><text style="-webkit-user-select:none;-moz-user-select:none;" x="20" y="20" font-size="20" data-reactid="241">The points are draggable and the slider controls history</text><g data-reactid="242"><g data-reactid="243"><line stroke="black" stroke-width="2" x1="100" y1="100" x2="200" y2="200" data-reactid="244"></line><line stroke="black" stroke-width="2" x1="200" y1="200" x2="100" y2="200" data-reactid="245"></line><line stroke="black" stroke-width="2" x1="100" y1="200" x2="100" y2="100" data-reactid="246"></line></g><circle fill="rgba(255,0,0,0.1)" stroke="black" stroke-width="2" cx="250" cy="300" r="50" data-reactid="247"></circle><line stroke="black" stroke-width="2" x1="250" y1="300" x2="250" y2="250" data-reactid="248"></line><line stroke="black" stroke-width="2" x1="100" y1="50" x2="500" y2="50" data-reactid="249"></line><rect stroke="black" width="10" height="30" x="500" y="35" data-reactid="250"></rect><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="250" cy="250" data-reactid="251"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="250" cy="300" data-reactid="252"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="100" cy="100" data-reactid="253"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="200" cy="200" data-reactid="254"></circle><circle stroke="black" stroke-width="2" fill="blue" r="5" cx="100" cy="200" data-reactid="255"></circle></g></svg></div></div><div class="clearfix" data-reactid="256"></div></div></div></div></div><a href="https://github.com/reagent-project/reagent" class="github-badge" data-reactid="257"><img style="position:absolute;top:0;left:0;border:0;" alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png" data-reactid="258"/></a></div></div></div><script>var pageConfig = {"page-path":"/news/any-arguments.html"}</script><script src="js/main.js?1489954369749" type="text/javascript"></script></body></html>